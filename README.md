# TradeMC Plugin

–ü–ª–∞–≥–∏–Ω –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ Minecraft-—Å–µ—Ä–≤–µ—Ä–∞ —Å –ø–ª–∞—Ç—Ñ–æ—Ä–º–æ–π TradeMC. –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –ø–æ–∫—É–ø–∫–∏ –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã–¥–∞–µ—Ç –Ω–∞–≥—Ä–∞–¥—ã –∏–≥—Ä–æ–∫–∞–º.

## üìã –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Java 21+
- Bukkit/Spigot/Paper 1.12 - 1.21.+
- MySQL (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

## ‚öôÔ∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞

1. –°–∫–∞—á–∞–π—Ç–µ –ø–æ—Å–ª–µ–¥–Ω—é—é –≤–µ—Ä—Å–∏—é –ø–ª–∞–≥–∏–Ω–∞ –∏–∑ [Releases](https://github.com/DimaSergeew/TradeMc/releases)
2. –ü–æ–º–µ—Å—Ç–∏—Ç–µ JAR —Ñ–∞–π–ª –≤ –ø–∞–ø–∫—É `plugins`
3. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä
4. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ `config.yml`:
5. 
   ```yaml
   shops: "–í–ê–®_ID_–ú–ê–ì–ê–ó–ò–ù–ê"
   callback-key: "–í–ê–®_CALLBACK_KEY"
   ```

## üõ† –ö–æ–º–∞–Ω–¥—ã

- `/trademc reload` - –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- `/trademc check` - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ API
- `/trademc getOnline` - –°—Ç–∞—Ç—É—Å –æ–Ω–ª–∞–π–Ω –º–∞–≥–∞–∑–∏–Ω–∞
- `/trademc history` - –ò—Å—Ç–æ—Ä–∏—è –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –ø–æ–∫—É–ø–æ–∫
- `/trademc debugPurchase <–∏–≥—Ä–æ–∫> <itemId> <–Ω–∞–∑–≤–∞–Ω–∏–µ>` - –¢–µ—Å—Ç–æ–≤–∞—è –ø–æ–∫—É–ø–∫–∞

## üîí –ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞

- `trademc.use` - –ë–∞–∑–æ–≤—ã–π –¥–æ—Å—Ç—É–ø –∫ –∫–æ–º–∞–Ω–¥–∞–º (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: –≤—Å–µ)
- `trademc.admin` - –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã–π –¥–æ—Å—Ç—É–ø (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: op)

## üîß –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤

### Callback API

–î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤:

```java
// –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤—Ö–æ–¥—è—â–µ–≥–æ callback
- public void handlePurchaseCallback(String jsonStr) {
- JsonObject obj = JsonParser.parseString(jsonStr).getAsJsonObject();
- String buyer = obj.get("buyer").getAsString();
- JsonArray items = obj.get("items").getAsJsonArray();
// –û–±—Ä–∞–±–æ—Ç–∫–∞ –ø–æ–∫—É–ø–∫–∏...
}
```
### –°–æ–±—ã—Ç–∏—è
- –ü–æ–∫—É–ø–∫–∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ
- –í—ã–¥–∞—á–∞ –Ω–∞–≥—Ä–∞–¥ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ –≤ –æ—Å–Ω–æ–≤–Ω–æ–º –ø–æ—Ç–æ–∫–µ
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è –æ—Ç–ª–æ–∂–µ–Ω–Ω–∞—è –≤—ã–¥–∞—á–∞ –Ω–∞–≥—Ä–∞–¥ –æ—Ñ—Ñ–ª–∞–π–Ω –∏–≥—Ä–æ–∫–∞–º

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—Ç–∫–∏

- –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –∏–Ω—Ç–µ—Ä–≤–∞–ª –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–æ–∫—É–ø–æ–∫: 30 —Å–µ–∫—É–Ω–¥
- Callback-—Å–µ—Ä–≤–µ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –ø–æ—Ä—Ç—É 8080 –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
- –í—Å–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –ª–æ–≥–∏—Ä—É—é—Ç—Å—è –≤ `plugins/TradeMC/logs/trademc.log`

## üìù –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

–û—Å–Ω–æ–≤–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ `config.yml`:
# MySQL –Ω–∞—Å—Ç—Ä–æ–π–∫–∏...
```yaml
check-interval-seconds: 60
retry-attempts: 3
callback:
enabled: true
port: 8080
mysql:
enabled: false
```

## ü§ù –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º —Å–æ–∑–¥–∞–≤–∞–π—Ç–µ Issue –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –∏–ª–∏ –æ–±—Ä–∞—â–∞–π—Ç–µ—Å—å –∫ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞–º TradeMC.

